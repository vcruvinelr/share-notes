#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run frontend linting
echo "ğŸ” Running frontend lint checks..."
cd frontend
npm run type-check
npm run lint:fix
npm run format

# Run backend linting
echo "ğŸ” Running backend lint checks..."
cd ../backend
if command -v poetry &> /dev/null; then
    poetry run black app/
    poetry run isort app/
    poetry run flake8 .
else
    echo "âš ï¸  Poetry not found, skipping backend linting"
fi

cd ..

echo "âœ… Pre-commit checks passed!"
